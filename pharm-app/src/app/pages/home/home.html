<section class="home-section d-flex align-items-center flex-column justify-content-center" style="background: #f8f9fa; min-height: 100vh;">
    <div class="container text-center">
        <span class="welcome-text fs-4 fw-semibold text-success">Welcome To</span>
        <h1 class="brand-name display-3 fw-bold text-success my-2">PharmaCare</h1>
        <p class="tagline fs-5 text-success mb-4">Your health journey made simple</p>

        <!-- Search Bar with button -->
        <div class="position-relative">
            <div class="d-flex justify-content-center mb-3">
                <input
                    #searchInput
                    type="text"
                    class="form-control form-control-lg me-2 shadow-sm border-success"
                    style="max-width: 400px;"
                    placeholder="Search for medicine..."
                    (input)="onInputChange(searchInput.value)"
                    (focus)="showSuggestions = true"
                    (blur)="onBlur()"
                />
                <button class="btn btn-success btn-lg shadow">Search</button>
            </div>

            <!-- Suggestion Dropdown -->
            <div class="suggestions-dropdown position-absolute bg-white shadow rounded mt-1" 
                 *ngIf="showSuggestions && suggestions.length > 0"
                style="width: 400px; left: 50%; transform: translateX(-50%); z-index: 1000; max-height: 200px; overflow-y: auto;">
                <div class="list-group">
                    <a *ngFor="let suggestion of suggestions" 
                        class="list-group-item list-group-item-action text-success"
                        (mousedown)="selectSuggestion(suggestion)">
                        {{ suggestion.name }}
                    </a>
                </div>
            </div>
        </div>

        <!-- When Search -->
        <div class="mb-3">
            <span class="text-success">{{ message }}</span>
        </div>

        <!-- Results -->
        <div class="row justify-content-center">
            <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4" *ngFor="let med of filteredMedicines">
                <div class="medicine-card card shadow-sm h-100">
                    <div class="card-image-container">
                        <img 
                            [src]="med.image" 
                            class="card-img-top" 
                            alt="{{ med.name }}" 
                        />
                        <div class="card-overlay">
                            <span class="price-badge">${{ med.price || '15.99' }}</span>
                        </div>
                    </div>

                    <div class="card-body d-flex flex-column">
                        <div class="card-header mb-2">
                            <h5 class="card-title text-success fw-bold">{{ med.name }}</h5>
                            <span class="category-badge">{{ med.category || 'Medicine' }}</span>
                        </div>
                        
                        <p class="card-text text-secondary flex-grow-1">{{ med.description }}</p>
                        
                        <div class="card-details mb-3">
                            <div class="location-info">
                                <i class="fas fa-map-marker-alt text-success me-1"></i>
                                <small class="text-muted">{{ med.location }}</small>
                            </div>
                            <div class="stock-info">
                                <i class="fas fa-box text-success me-1"></i>
                                <small class="text-muted">In Stock: {{ med.stock || '25' }}</small>
                            </div>
                        </div>

                        <div class="card-actions mt-auto">
                            <div class="d-grid gap-2">
                                <button class="btn btn-outline-success btn-sm" 
                                        (click)="showLocation(med)">
                                    <i class="fas fa-map-marker-alt me-1"></i> Location
                                </button>
                                <button class="btn btn-success btn-sm" 
                                        (click)="addToCart(med)">
                                    <i class="fas fa-cart-plus me-1"></i> Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="filteredMedicines.length === 0" class="col-12">
                <p class="text-success mt-4">Write medicine name and click Search.</p>
            </div>
        </div>
    </div>
</section>