<!-- ===================== HERO WRAPPER ===================== -->
<div class="hero-wrapper position-relative">

  <!-- ===================== CAROUSEL ===================== -->
  <div id="carouselExample" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3500">

    <div class="carousel-inner">

      <div class="carousel-item active">
        <img src="/imgs/back4.jpg" class="d-block w-100 hero-img" alt="">
      </div>

      <div class="carousel-item active">
        <img src="/imgs/back3.jpg" class="d-block w-100 hero-img" alt="">
      </div>

      <div class="carousel-item active">
        <img src="/imgs/back22.jpg" class="d-block w-100 hero-img" alt="">
      </div>

    </div>

    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>

    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>

  </div>

  <!-- ⭐⭐⭐ SEARCH + TEXT OVERLAY ⭐⭐⭐ -->
  <div class="hero-overlay text-center">

    <span class="fs-4 fw-semibold">Welcome To</span>

    <h1 class="display-3 fw-bold mb-2">PharmaCare</h1>

    <p class="fs-5 mb-4">Your health journey made simple</p>

    <!-- رسالة قبل البحث -->
    <div *ngIf="filteredMedicines.length === 0 && !message" class="text-center">
      <p class="text-success mt-4">Write medicine name and click Search.</p>
    </div>

    <!-- SEARCH BAR -->
    <div class="d-flex justify-content-center mb-3 position-relative">

      <input
        #searchInput
        type="text"
        class="form-control form-control-lg me-2 shadow"
        style="max-width: 400px;"
        placeholder="Search for medicine..."
        [(ngModel)]="searchTerm"
        (input)="onInputChange(searchTerm)"
        (focus)="showSuggestions = true"
        (blur)="onBlur()"
        (keydown.enter)="onSearch(searchTerm)"
      />

      <button 
        class="btn btn-success btn-lg shadow"
        (click)="onSearch(searchTerm)">
        Search
      </button>

      <!-- DROPDOWN -->
      <div
        class="suggestions-dropdown bg-white text-success shadow rounded"
        *ngIf="showSuggestions && suggestions.length > 0">

        <div class="list-group">
          <a
            *ngFor="let suggestion of suggestions"
            class="list-group-item list-group-item-action text-success"
            (mousedown)="selectSuggestion(suggestion)">
            {{ suggestion.name }}
          </a>
        </div>

      </div>

    </div>

  </div>

</div>

<!-- ===================== RESULTS SECTION ===================== -->
<section class="home-section container mt-5">

  <!-- Search message -->
  <div class="mb-3 text-center">
    <span class="text-success">{{ message }}</span>
  </div>

  <!-- RESULTS -->
  <div class="row justify-content-center">

    <div
      class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4"
      *ngFor="let med of filteredMedicines">

      <div class="medicine-card card shadow-sm h-100">

        <div class="card-image-container">
          <img [src]="med.image" class="card-img-top" alt="{{ med.name }}">
          <div class="card-overlay">
            <span class="price-badge">${{ med.price || '15.99' }}</span>
          </div>
        </div>

        <div class="card-body d-flex flex-column">
          <h5 class="card-title text-success fw-bold">{{ med.name }}</h5>
          <p class="card-text text-secondary flex-grow-1">{{ med.description }}</p>

          <button class="btn btn-success btn-sm mt-auto" (click)="addToCart(med)">
            <i class="fas fa-cart-plus me-1"></i> Add to Cart
          </button>
        </div>

      </div>

    </div>

  </div>

</section>
